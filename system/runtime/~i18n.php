<?php
 class I18n { public static $lang = 'en/us'; private static $_cache = array(); public static function get($string) { $lang = I18n::$lang; $table = I18n::load($lang); return isset($table[$string]) ? $table[$string] : $string; } public static function load($lang) { if (isset(I18n::$_cache[$lang])) { return I18n::$_cache[$lang]; } $table = array(); if (strpos($lang, '/') === FALSE) { $path = ''; } else { $path = str_replace('/', DS, pathinfo($lang, PATHINFO_DIRNAME)).DS; $lang = substr(strrchr($lang, '/'), 1); } $file = APP_I18N_DIR.$path.$lang.'.php'; if (file_exists($file)) { $t = array(); $t = array_merge($t, include $file); $table += $t; } return I18n::$_cache[$lang] = $table; } } 